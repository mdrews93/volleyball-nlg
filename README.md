# Volleyball Match Summarization

## Problem

Given a backlog of historical articles, box scores, and play-by-play logs, can a program be developed that will generate a new article for a match based on just that match's box score and play-by-play log?

## Research questions

1. What is the best way to leverage limited historical language data to make informed decisions on the language to be used in a new article? 
2. How can a game be quantified in a way that it can be compared to others such that similar games use similar language in the articles?
3. How should templates be formatted to increase expressibility?

## Related work

The following is a link to a survey in natural language generation which summarizes the core tasks and gives an overview of recent works: <https://www.jair.org/index.php/jair/article/view/11173>

One particular effort by van der Lee, C., Krahmer, E., & Wubben, S. published the paper [_Pass: A dutch data-to-text
system for soccer, targeted towards specific audiences_](http://aclweb.org/anthology/W17-3513) in which they generate templates based on historical articles to summarize soccer matches.
 

## Data

In total there were 121 historical articles, each with a corresponding box score and play-by-play log. From those articles, a total of 2862 sentences from 571 sets were retrieved. 

[Box Score Example](http://www.illinoistechathletics.com/sports/mvball/2017-18/boxscores/20180112_1ei7.xml)

[Play-by-play example](http://www.illinoistechathletics.com/sports/mvball/2017-18/boxscores/20180112_1ei7.xml?view=plays)

When generating a new article, the URL for the box score and play-by-play is required and then the relavant information is scraped from the HTML pages and stored in python dictionaries.

## Methods

Prior to generating a single article, the 121 historical articles were first crawled to retrieve the language corpus that will be used in the template generation process. For each of the sets in the articles, the play-by-play log is vectorized and then all of the vectors are clustered into 5 clusters. 

With the results from the historical preprocessing, when a new article is to be generated, the HTML from the box score and play-by-play is scraped to get the relevant stats and information into operable form in python dictionaries. The play-by-play log for each set in the match is  vectorized and then classified using the previously computed clusters. The classification of the play-by-play vector will determine which templates to use. Then the leaders of each particular stat and any other notable performances are computed. Finally, the sentences are filled into a template HTML page using the sentence templates which are based off of the language used in the particular clusters.

## Results

The following directory contains articles generated by the program:

[Results](../master/src/article_generation/results)

## Conclusions / Future Work

Since the scope of the generated articles is relatively small and the variation between articles is acceptably minimal, the template approach is a viable solution. While this does require a fair amount of manual work in generating the templates, the generated process can still be informed by the historical data to produce sentences that mirror the language from the corpus. Templates also ensure that ungrammatical sentences are never generated and it's straightforward to add to or modify in order to expand the possible articles that can be created.

Looking ahead, the best way to improve the generated articles is to continue working on the templates. Some areas in particular that could use some improvement is limiting redundancy between close sentences and varying the distribution between simple and compound sentences to improve the flow. 

Additionally, it'd be nice to wrap this program behind a distributable GUI interface to make it easier to generate new articles. As it currently stands, two variables in `main.py` need to be modified to point to the correct URLs for the box score and play-by-play logs. 